% !TEX root = ../Rulebook.tex

\section{Organization of the Competition}\label{sec:participation_in_the_competition}

\subsection{Teams}
The Technical Committee and the Organizational Committee will jointly determine the number of teams permitted to participate in a competition well in advance. The rules shall enable a competition with up to at least 24 teams lasting not more than four full days.
The number of people to register per team is not restricted by default, but may be limited due to local arrangements. Teams that plan to bring more than four members are advised to contact the Organizing Committee beforehand.
During registration, each team has to designate one member as team leader. A change of the team leader must be communicated to the Organizing Committee. The team leader is the only person who can officially communicate with the referees during a run, e.g. to decide to abort a run, to call a restart, etc. The team leader can ask the OC to accept additional teams members for these tasks.
\par
During on-site registration and upon request by the Organizing Committee a team has to nominate one or more referees for the competition. If a team fails to provide referees in an appropriate way, the Organizing Committee \revcha{may take actions such as reduction of points for the respective team.}{chooses an arbitrary member of the team for this position.}


\subsection{Team Practice and Use of Arenas}
The teams will be given an opportunity to practice with their robots either in the competition arenas or in special test arenas, if available. The frequency and lengths of practice periods will be decided by the OC on site. The OC will also decide about if and how many teams may use an arena simultaneously and can decide on a practice schedule for teams wishing to use the arenas. Arenas may be modified between practice time and competition runs.

\subsection{Stages and Tests}
The OC may decide to split the competition into several stages. The competition design may foresee that only a smaller number of teams qualifies for a consecutive stage. An exemplary competition design could foresee a first stage with all qualified teams, a second stage with only the best 10 teams from the first stage, and a finals stage with the best 5 teams of the second stage.
\par
Each stage is composed of a sequence of tests. The OC and the TC will jointly determine the type and number of tests in a stage and schedule the tests.
Each test may be executed in one or multiple runs. The term run designates a single trial of a test for each team.

\subsection{Scoring and Ranking}
For each test the calculation of scores is defined individually, comprising points for achieving certain subtasks, points for winning a run and penalty points.
\par
If not specified otherwise, the following set of scoring rules applies for each test:
\par
Teams may use simplifications, which will result in a reduction of scores for the given run:

\begin{itemize}
	\item Use of external sensors: \hfill -200 points
	\item Use of other external objects (e.g. to support localization): \hfill -100 points
	\item Use of own loading or unloading areas: \hfill -200 points
\end{itemize}

Additional simplifications are specified for individual tests. These reductions do not count as penalty points. Teams that want to make use of the simplifications above have to announce them in advance of the competition to the TC. The TC might forbid the use of specific elements for simplification if these are not in the spirit of the league or may cause disproportionate advantages for a team.
\par
Penalty points are given as follows, each time again the incident occurs:

\begin{itemize}
	\item A manipulation object is lost or placed anywhere outside of the service areas: \hfill -100 points
	\item Robot caused a collision with the environment: \hfill -50 points
	\item Restart used: \hfill -200 points
\end{itemize}

Controlled collisions between a robot and the environment are allowed, i.e. slightly touching a loading area with the robot’s base or gripper. As soon as a robot starts to move environmental elements or the wheels start to spin (wheel-spin), it will be considered as a collision and the running test will be aborted. A controlled collision can only occur during manipulation operations.
\par
If the projection of any part of a robot touches a barrier tape marking a virtual wall it counts as a collision. Touching or Passing a Barrier Tape when entering or exiting the arena does not count as collision.
\par
When an object lost contact to the robot or touches the ground, it is not considered as being carried anymore (e.g. an object falls off the gripper or from the transportation platform).
\par
All teams fully complete a perfect run will receive a completion bonus of 0.75 points per second left on the run time. These points are only awarded if the run is perfect, i.e. all objectives reached without any penalties.
\par
A team cannot get less than zero points for one run. The score for a test is the average of the runs of this test, calculated by summing up the scores of each run and dividing it by the number of runs. The scores of the tests of the first stage are summed up, and the teams with the highest sums proceed to the next stage.
\par
In case of a tie, the team with the higher score during the last test wins. If both had the same score, then the test before that one is considered and so on. In case of a tie, there will be a decider run chosen by the TC only for those teams affected.
\note{This is not fair and actually flipping the coin. In this case, I would rather let both teams go to the next stage. (Fred)}
\par
%Some tests have three so-called complexity levels. A complexity level (low, medium and high) encodes the difficulty of the test such as the number of objects to manipulate or whether the arena is equipped with obstacles or without.
\par
%Every team decides for each run of a test in which complexity level they want to participate. This decision must be made by all teams when asked for by the OC, but at least before the first team starts a particular run.

Each test provides a set of so-called feature variations encoding the overall variability of the test (e.g. whether obstacles can occur or not, number and type of manipulation objects). To enhance comparability among different test runs, all teams will have to perform the same test instance.


\subsection{Common Procedures}
The order in which the teams have to perform a run is determined by a draw by the Organizing Committee. The order will be made public at least one hour before a slot of the particular test.
\par
A run is preceded with a 5 minutes preparation time. This time begins once the previous team has left the arena and the arena is setup (e.g. all manipulation objects are in place). During the preparation time the team may enter the competition area in person, but not with the robot. Entering before this time is allowed only with explicit allowance of the Organizing Committee.
\par
When the preparation time ends, all team members must immediately leave the area and
robots must be ready to start. The team has to check if the arena is setup correct (e.g. all manipulation objects are placed according to the task specification, obstacles are placed correctly).
\par
The referees start a run by sending the start signal from the referee box.
\par
A run ends when 
\begin{itemize}
	\item the duration for the given test has passed,
	\item when the task has been finished by all robots,
	\item when the referees decide to stop it, or 
	\item when the team leader of the team whose turn it is decides that the run can be finished earlier as no more progress is expected.
\end{itemize}
\par
During a run, teams may only interact with the robot or enter the area if explicitly allowed by the referees.
\par
After each run, the teams must leave the arena within one minute.

\subsection{Restarts}
Teams might use one so-called restart in a run. Restarts have the following aspects:

\begin{itemize}

	\item Per run, at most one restart is allowed for a team, if not specified 			otherwise in a test.
	\item At any time during a run, the team can call for a restart to the 				referees.
	\item When the referees accept the call for restart, the team may enter the 			arena. The time will continue running.
	\item The arena and the robot will be reset exactly to the setup at the 				beginning of the run (except the timer for the run). Random elements such as 			obstacles or object positions remain like before.
	\item The points for this run achieved so far are reset to zero (including 			possible penalty points). After the run, a penalty score for the restart will 	be applied.
	\item The referees decide when the arena is prepared again for the restart. If 	the robot is not yet ready, teams can keep trying to get it ready until the 			time for the run is over.
	\item As soon as the team signals that the robot is ready, the task 					specification is sent again.
	\item Afterwards the start signal is sent from the referee box.

\end{itemize}

\subsection{Roles of OC and TC}
\note{Shouldn't this be in Section 1.2.1? (Fred)}
The Organizing Committee is responsible for all aspects concerning the competition, such as providing the competition arenas, ensuring their conformity with the rules, assigning space to teams in the team area, the organization and scheduling of meetings, the nomination and scheduling of referees, and the scheduling and timely execution of tests and stages.
The Technical Committee is responsible for all aspects concerning the rules, such as compliance of the robots with rules and safety standards, the clarification of rules and resolution of any conflicts that may arise during the competition.

\subsection{Referees}
The referees have to ensure the correct execution of the tests. They may interrupt runs if they suspect breaches of rules, see possible danger for humans or possible damages of robots and the environment. Beside these general tasks, the referees are responsible for
\begin{itemize}
\item controlling the referee box (1 referee)
\item supervising the robot and counting collisions (2 referees from different positions) and
\item scoring results (all 3 together).
\end{itemize}
A team of referees supervise all runs of one test. \todo{The appointment of the referees has to be announced to the teams in combination to the test schedule. OK?}


\subsection{Meetings and Language of Communication}
Both the TC and the OC may organize several special meetings during a competition, such as referee meetings, team leader meetings, etc. The meetings will be announced locally. It is the responsibility of the team to inform itself about the organization and scheduling of such meetings.
\par
Each team is expected to send at least one representative to such meetings. If the meeting refers to specific roles, such as “referee” or “team leader”, the person designated by the team to fill this role is expected to participate.
\par
The language for all communication in the league is English.

\subsection{Code of Conduct and Disqualification}
Teams and team members are expected to maintain a friendly and cooperative atmosphere throughout a competition and contribute to a vivid work environment and to scientific exchange before, during and after a competition.
\par
The Technical Committee may disqualify individual team members or a whole team during a competition for severe reasons, such as repeated breach of rules.
